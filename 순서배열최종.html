<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‹¨ì–´ ìˆœì„œ ë°°ì—´ í”„ë¡œê·¸ë¨ (ëª¨ë°”ì¼ ìµœì í™” & ë˜ëŒë¦¬ê¸°)</title>
    <style>
        /* ğŸŒŸ ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ë° ë°°ê²½: Arctic Ice ì ìš© */
        :root {
            --primary-color: #007BFF; /* ì§„í•œ íŒŒë‘ (ë˜ëŒë¦¬ê¸°, ì±„ì í•˜ê¸°, ë‹¤ìŒ ë²„íŠ¼) */
            --success-color: #28A745; /* ë…¹ìƒ‰ */
            --danger-color: #DC3545; /* ë¹¨ê°„ìƒ‰ (ì‚­ì œ) */
            --warning-color: #FFC107; /* ë…¸ë€ìƒ‰ */
            --light-primary-color: #4C99FF; /* ì‚¬ìš©ì ìš”ì²­: íŒŒë€ìƒ‰ + í°ìƒ‰ (ì˜¤ë‹µ í•™ìŠµ ë²„íŠ¼) */
            --arctic-ice-bg: #F0F8FF; /* Arctic Ice ê³„ì—´ ë°°ê²½ */
            --container-bg: #FFFFFF;
            --text-color: #343A40;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--arctic-ice-bg);
            margin: 0; 
            padding: 15px; 
            display: flex; 
            justify-content: center; 
            align-items: flex-start; 
            min-height: 100vh;
            color: var(--text-color);
        }
        .container {
            width: 100%; 
            max-width: 700px;
            background-color: var(--container-bg);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            overflow: hidden;
        }
        .screen { padding: 20px; }
        .hidden { display: none; }
        h1, h2 { text-align: center; color: var(--primary-color); margin-bottom: 20px; font-size: 1.5em; }

        /* ë²„íŠ¼ ë””ìì¸ (ëª¨ë°”ì¼ í„°ì¹˜ ìµœì í™”) */
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-left: 5px; 
            white-space: nowrap; /* ë²„íŠ¼ ë‚´ë¶€ í…ìŠ¤íŠ¸ ì¤„ë°”ê¿ˆ ë°©ì§€ */
        }
        /* í‘¸ë¥¸ ê³„ì—´ ë²„íŠ¼ í†µì¼ */
        .btn-primary, #check-btn, #undo-btn { 
            background-color: var(--primary-color); 
            color: white; 
        }
        .btn-success { background-color: var(--success-color); color: white; }
        .btn-danger { background-color: var(--danger-color); color: white; }
        .btn-warning { background-color: var(--warning-color); color: var(--text-color); }
        /* ğŸŒŸ NEW: ì˜¤ë‹µ í•™ìŠµ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn-light-primary { 
            background-color: var(--light-primary-color); 
            color: white; 
        }
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
        }
        .btn:disabled { 
            background-color: #ccc; 
            cursor: not-allowed; 
            transform: none; 
            box-shadow: none; 
        }
        
        /* í•™ìŠµ í™”ë©´ ìŠ¤íƒ€ì¼ */
        #meaning-display { font-size: 1.2em; font-weight: bold; text-align: center; margin: 20px 0; padding: 12px; background-color: #FFFDE7; border-radius: 8px; border: 1px dashed #FFC107; }
        .controls { margin-top: 25px; display: flex; flex-direction: column; gap: 10px; }
        #action-buttons { display: flex; justify-content: space-around; width: 100%; margin-top: 5px; }
        .feedback { text-align: center; font-size: 1.2em; font-weight: bold; margin-top: 15px; padding: 8px; border-radius: 8px; }

        /* ìˆœì„œ ë°°ì—´ í”„ë¡œê·¸ë¨ ì „ìš© ìŠ¤íƒ€ì¼ */
        #arrangement-area {
            min-height: 70px;
            border: 2px dashed #ddd;
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 15px;
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            gap: 6px; 
            background-color: #F8F8FF;
        }
        .arranged-word {
            display: inline-block;
            padding: 6px 10px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9em;
        }
        #word-bank {
            text-align: center;
            padding: 10px 0;
            border-top: 1px solid #eee;
        }
        .word-btn {
            padding: 8px 12px; 
            border: 1px solid var(--primary-color);
            background-color: white;
            color: var(--primary-color);
            border-radius: 20px;
            cursor: pointer;
            margin: 4px; 
            font-size: 0.9em;
            display: inline-block;
        }
        /* ì„ íƒëœ ë‹¨ì–´(ë¹„í™œì„±í™”ëœ word-btn)ë¥¼ íšŒìƒ‰ìœ¼ë¡œ í‘œì‹œ */
        .word-btn:disabled {
            border: 1px solid #ADB5BD; 
            background-color: #EEEEEE; 
            color: #6C757D; 
            cursor: not-allowed;
            opacity: 1;
        }
        /* ê¸°íƒ€ ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìœ ì§€ */
        #main-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;}
        #set-list { list-style: none; padding: 0; }
        .set-item { flex-direction: column; align-items: flex-start; padding: 15px; border: 1px solid #ddd; border-radius: 10px; margin-bottom: 10px; background-color: #F8F9FA; transition: background-color 0.2s; }
        .set-item:hover { background-color: #E9ECEF; }
        .set-item-title { font-size: 1.1em; margin-bottom: 10px; } 
        .set-item-controls { width: 100%; display: flex; justify-content: flex-end; flex-wrap: wrap; gap: 5px;} /* ë²„íŠ¼ë“¤ì´ ì¤„ë°”ê¿ˆë˜ë„ë¡ flex-wrap ì¶”ê°€ */
        .input-group input, #sentence-inputs-container .sentence-pair input { padding: 10px; width: 100%; border: 1px solid #ced4da; border-radius: 8px; box-sizing: border-box; }
        #sentence-inputs-container .sentence-pair { display: flex; flex-direction: column; gap: 8px; margin-bottom: 10px; }
        .form-controls { display: flex; justify-content: space-between; margin-top: 20px; }
        .report-sentence { margin-bottom: 5px; font-weight: bold; }
        .report-count { color: var(--danger-color); font-size: 0.9em; }
    </style>
</head>
<body>

    <div class="container">
        <div id="main-screen" class="screen">
            <div id="main-header">
                <h1>ğŸ“ ìˆœì„œ ë°°ì—´ í•™ìŠµ ì„¸íŠ¸</h1>
                <button id="add-set-btn" class="btn btn-primary">+</button>
            </div>
            <ul id="set-list"></ul>
        </div>

        <div id="create-set-screen" class="screen hidden">
            <h2>ìƒˆë¡œìš´ ì„¸íŠ¸ ë§Œë“¤ê¸°</h2>
            <div class="input-group">
                <label for="set-title-input">ì„¸íŠ¸ ì œëª©</label>
                <input type="text" id="set-title-input" placeholder="ì˜ˆ: ì—¬í–‰ ì˜ì–´ íšŒí™”">
            </div>
            <h3>ë¬¸ì¥ê³¼ ëœ» ì¶”ê°€</h3>
            <div id="sentence-inputs-container"></div>
            <button id="add-sentence-field-btn" class="btn btn-primary" style="margin-top: 10px;">+ ë¬¸ì¥ ì¶”ê°€</button>
            <div class="form-controls">
                <button class="back-to-main-btn btn">ë’¤ë¡œ</button>
                <button id="save-set-btn" class="btn btn-success">ì €ì¥í•˜ê¸°</button>
            </div>
        </div>

        <div id="learning-screen" class="screen hidden">
            <h2 id="learning-set-title"></h2>
            <p id="progress-display" style="text-align: center; color: var(--primary-color);"></p>
            
            <p id="meaning-display"></p>
            
            <div id="arrangement-container">
                <div id="arrangement-area"></div>
            </div>

            <div id="word-bank"></div>

            <div class="controls">
                <button class="back-to-main-btn btn">ë©”ì¸ìœ¼ë¡œ</button>
                <div id="action-buttons">
                    <button id="undo-btn" class="btn btn-primary">ë˜ëŒë¦¬ê¸°</button> 
                    <button id="check-btn" class="btn btn-primary">ì±„ì í•˜ê¸°</button>
                    <button id="show-answer-btn" class="btn btn-primary hidden">ì •ë‹µ ë³´ê¸°</button> 
                    <button id="next-question-btn" class="btn btn-primary hidden">ë‹¤ìŒ</button>
                </div>
            </div>
            <div id="feedback-area"></div>
        </div>

        <div id="report-screen" class="screen hidden">
            <h2 id="report-title"></h2>
            <ul id="report-list"></ul>
            <button class="back-to-main-btn btn" style="margin-top: 20px;">ë’¤ë¡œ</button>
        </div>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        let sets = [];
        let currentSetIndex = -1;
        let currentQuestionIndex = 0;
        let currentSentenceWords = [];
        let currentSessionSentences = [];

        const screens = { main: document.getElementById('main-screen'), create: document.getElementById('create-set-screen'), learning: document.getElementById('learning-screen'), report: document.getElementById('report-screen') };
        const setList = document.getElementById('set-list');
        const addSetBtn = document.getElementById('add-set-btn');
        const backToMainBtns = document.querySelectorAll('.back-to-main-btn');
        const setTitleInput = document.getElementById('set-title-input');
        const sentenceInputsContainer = document.getElementById('sentence-inputs-container');
        const addSentenceFieldBtn = document.getElementById('add-sentence-field-btn');
        const saveSetBtn = document.getElementById('save-set-btn');
        const learningSetTitle = document.getElementById('learning-set-title');
        const progressDisplay = document.getElementById('progress-display');
        const meaningDisplay = document.getElementById('meaning-display');
        
        const arrangementArea = document.getElementById('arrangement-area');
        const wordBank = document.getElementById('word-bank');
        const undoBtn = document.getElementById('undo-btn'); 
        const checkBtn = document.getElementById('check-btn');
        const showAnswerBtn = document.getElementById('show-answer-btn');
        const nextQuestionBtn = document.getElementById('next-question-btn');
        const feedbackArea = document.getElementById('feedback-area');
        
        const reportTitle = document.getElementById('report-title');
        const reportList = document.getElementById('report-list');

        let isFirstAttempt = true;

        // ë¬¸ì¥ ë°°ì—´ì—ì„œ ë§ˆì¹¨í‘œ, ì‰¼í‘œ ë“± êµ¬ë‘ì ì„ ë‹¨ì–´ì™€ ë¶„ë¦¬í•˜ì—¬ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜
        function splitSentenceIntoWords(sentence) {
            const finalPunctuationMatch = sentence.match(/([.,?!])$/);
            const finalPunctuation = finalPunctuationMatch ? finalPunctuationMatch[1] : '';
            let cleanedSentence = finalPunctuationMatch ? sentence.slice(0, -finalPunctuationMatch[0].length) : sentence;
            let words = cleanedSentence.trim().split(/\s+/).filter(word => word.length > 0);
            if (finalPunctuation) {
                words.push(finalPunctuation);
            }
            return words;
        }

        // --- ë°ì´í„° ì„¸íŠ¸ (ì´ì „ ë²„ì „ê³¼ ë™ì¼) ---
        const lesson7BodySentences = [
            { "sentence": "Have you ever visited an online bookstore and been surprised by the books that the store recommended for?", "meaning": "ë‹¹ì‹ ì€ ì˜¨ë¼ì¸ ì„œì ì„ ë°©ë¬¸í•˜ê³  ê·¸ ì„œì ì—ì„œ ë‹¹ì‹ ì„ ìœ„í•´ ì¶”ì²œí•´ì£¼ëŠ” ì±…ì— ëŒ€í•´ ë†€ë€ ì ì´ ìˆë‚˜ìš”?" },
            { "sentence": "Many of them looked interesting to you.", "meaning": "ê·¸ê²ƒë“¤ ì¤‘ ë§ì€ ê²ƒë“¤ì´ ë‹¹ì‹ ì—ê²Œ í¥ë¯¸ìˆì–´ ë³´ì˜€ë‹¤." },
            { "sentence": "So how did the bookstore know what you liked?", "meaning": "ê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ ê·¸ ì„œì ë“¤ì€ ë‹¹ì‹ ì´ ì¢‹ì•„í•˜ëŠ” ê²ƒì„ ì•Œì•˜ì„ê¹Œ?" },
            { "sentence": "This is all possible because of big data.", "meaning": "ì´ê²ƒì€ ëª¨ë‘ ë¹…ë°ì´í„° ë•Œë¬¸ì— ê°€ëŠ¥í•˜ë‹¤." },
            { "sentence": "Big data is data sets that are very big and complex,", "meaning": "ë¹…ë°ì´í„°ëŠ” ë§¤ìš° í¬ê³  ë³µì¡í•œ ë°ì´í„° ì„¸íŠ¸ì´ë‹¤." },
            { "sentence": "As information and communication technology develops, the amount of data we have is getting much greater than before.", "meaning": "ì •ë³´ì™€ í†µì‹  ê¸°ìˆ ì´ ë°œë‹¬í•¨ì— ë”°ë¼, ìš°ë¦¬ê°€ ê°€ì§€ê³  ìˆëŠ” ë°ì´í„°ì˜ ì–‘ì€ ì „ë³´ë‹¤ í›¨ì”¬ ë” ì»¤ì§€ê³  ìˆë‹¤." },
            { "sentence": "This is mainly because almost everything that we do online leaves a trace.", "meaning": "ì´ê²ƒì€ ì£¼ë¡œ ìš°ë¦¬ê°€ ì˜¨ë¼ì¸ì—ì„œ í•˜ëŠ” ê±°ì˜ ëª¨ë“  ê²ƒì´ í”ì ì„ ë‚¨ê¸°ê¸° ë•Œë¬¸ì´ë‹¤." },
            { "sentence": "For example, the photos you upload on your blog and the records of your purchases at online stores are all part of big data.", "meaning": "ì˜ˆë¥¼ ë“¤ì–´, ë‹¹ì‹ ì´ ë‹¹ì‹ ì˜ ë¸”ë¡œê·¸ì— ì—…ë¡œë“œí•œ ì‚¬ì§„ì´ë‚˜ ì˜¨ë¼ì¸ ìƒì ì—ì„œì˜ ë‹¹ì‹  êµ¬ë§¤ ê¸°ë¡ë“¤ì€ ëª¨ë‘ ë¹…ë°ì´í„°ì˜ ë¶€ë¶„ì´ë‹¤." },
            { "sentence": "Simply collecting data, however, is not enough.", "meaning": "ê·¸ëŸ¬ë‚˜, ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ ëª¨ìœ¼ëŠ” ê²ƒì€ ì¶©ë¶„í•˜ì§€ ì•Šë‹¤." },
            { "sentence": "Big data has to be analyzed, and this is done by big data experts.", "meaning": "ë¹…ë°ì´í„°ëŠ” ë¶„ì„ë˜ì–´ì ¸ì•¼ í•˜ê³  ì´ê²ƒì€ ë¹…ë°ì´í„° ì „ë¬¸ê°€ë“¤ì— ì˜í•´ í–‰í•´ì§„ë‹¤." },
            { "sentence": "Using various methods, experts analyze big data and draw meaningful results from it.", "meaning": "ë‹¤ì–‘í•œ ë°©ë²•ë“¤ì„ ì‚¬ìš©í•˜ë©´ì„œ ì „ë¬¸ê°€ë“¤ì€ ë¹…ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³  ê·¸ê²ƒìœ¼ë¡œë¶€í„° ì˜ë¯¸ ìˆëŠ” ê²°ê³¼ë“¤ì„ ëŒì–´ë‚¸ë‹¤." },
            { "sentence": "These results then can be used to make decisions or to predict the future.", "meaning": "ê·¸ë¦¬ê³  ë‚˜ì„œ ì´ëŸ° ê²°ê³¼ë“¤ì€ ê²°ì •ì„ í•˜ê±°ë‚˜ ë¯¸ë˜ë¥¼ ì˜ˆì¸¡í•˜ëŠ”ë° ì‚¬ìš©ë˜ì–´ì§ˆ ìˆ˜ ìˆë‹¤." },
            { "sentence": "Big data is influencing almost all parts of our lives.", "meaning": "ë¹…ë°ì´í„°ëŠ” ìš°ë¦¬ ì‚¶ì˜ ê±°ì˜ ëª¨ë“  ë¶€ë¶„ì—ì„œ ì˜í–¥ì„ ì£¼ê³  ìˆë‹¤." },
            { "sentence": "It helps companies understand their customers' needs better and helps them sell more products.", "meaning": "ê·¸ê²ƒì€ íšŒì‚¬ë“¤ì´ ê³ ê°ë“¤ì˜ ìš•êµ¬ë¥¼ ë” ì˜ ì´í•´í•˜ê³  ë•ê³  ê·¸ë“¤ì´ ë” ë§ì€ ë¬¼ê±´ì„ íŒ”ë„ë¡ ë•ëŠ”ë‹¤." },
            { "sentence": "It helps people avoid heavy traffic.", "meaning": "ê·¸ê²ƒì€ ì‚¬ëŒë“¤ì´ êµí†µ í˜¼ì¡ì„ í”¼í•˜ë„ë¡ ë•ëŠ”ë‹¤." },
            { "sentence": "Its uses are endless, and here are some interesting examples.", "meaning": "ê·¸ê²ƒì˜ ì´ìš©ì€ ëì´ ì—†ê³  ì—¬ê¸° ëª‡ ê°€ì§€ í¥ë¯¸ìˆëŠ” ì˜ˆë“¤ì´ ìˆë‹¤." },
            { "sentence": "Did you know that health professionals can now forecast a disease just as weather experts forecast the weather?", "meaning": "ë„ˆëŠ” ë‚ ì”¨ ì „ë¬¸ê°€ë“¤ì´ ë‚ ì”¨ë¥¼ ì˜ˆë³´í•˜ëŠ” ê²ƒì²˜ëŸ¼ ì´ì œ ì „ë¬¸ê°€ë“¤ë„ ì§ˆë³‘ì„ ì˜ˆê²¬í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ë‚˜ìš”?" },
            { "sentence": "This is possible thanks to big data.", "meaning": "ì´ê²ƒì€ ë¹…ë°ì´í„° ë•ë¶„ì— ê°€ëŠ¥í•˜ë‹¤." },
            { "sentence": "For example, when the flu season comes, people will buy more flu medicine.", "meaning": "ì˜ˆë¥¼ ë“¤ì–´, ë…ê°ì˜ ê³„ì ˆì´ ì˜¤ë©´, ì‚¬ëŒë“¤ì€ ë” ë§ì´ ë…ê° ì•½ì„ ì‚´ ê²ƒì´ë‹¤." },
            { "sentence": "They will also search online about flu symptoms more.", "meaning": "ê·¸ë“¤ì€ ë…ê° ì¦ìƒì— ëŒ€í•´ ë” ë§ì´ ì˜¨ë¼ì¸ì„ ê²€ìƒ‰í•  ê²ƒì´ë‹¤." },
            { "sentence": "If this kind of data is analyzed wisely, the spread of the flu can be predicted.", "meaning": "ë§Œì•½ ì´ëŸ° ì¢…ë¥˜ì˜ ë°ì´í„°ê°€ í˜„ëª…í•˜ê²Œ ë¶„ì„ë˜ì–´ ì§„ë‹¤ë©´, ë…ê°ì˜ ì „íŒŒëŠ” ì˜ˆì¸¡ë  ìˆ˜ ìˆë‹¤." },
            { "sentence": "Well, big data is improving the performance of players, making sports more exciting.", "meaning": "ì, ë¹…ë°ì´í„°ëŠ” ìŠ¤í¬ì¸ ë¥¼ ë” ì¬ë¯¸ìˆê²Œ í•˜ë©´ì„œ ì„ ìˆ˜ë“¤ì˜ ì„±ê³¼ë¥¼ í–¥ìƒì‹œí‚¤ê³  ìˆë‹¤." },
            { "sentence": "A famous example is Germany's national soccer team.", "meaning": "ìœ ëª…í•œ í•œ ì˜ˆì‹œê°€ ë…ì¼ êµ­ê°€ëŒ€í‘œ ì¶•êµ¬íŒ€ì´ë‹¤." },
            { "sentence": "The team built a database by collecting and analyzing a huge amount of data on players.", "meaning": "ê·¸ íŒ€ì€ ì„ ìˆ˜ë“¤ì˜ ì•„ì£¼ ë§ì€ ì–‘ì˜ ë°ì´í„°ë¥¼ ëª¨ìœ¼ê³  ë¶„ì„í•¨ìœ¼ë¡œì¨ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë§Œë“¤ì—ˆë‹¤." },
            { "sentence": "For example, the data included information about how much each player ran and how long he had the ball.", "meaning": "ì˜ˆë¥¼ ë“¤ì–´, ê·¸ ë°ì´í„°ëŠ” ê°ê°ì˜ ì„ ìˆ˜ê°€ ì–¼ë§ˆë‚˜ ë§ì´ ë›°ì—ˆëŠ”ì§€, ì–¼ë§ˆë‚˜ ì˜¤ë˜ ê³µì„ ê°€ì§€ê³  ìˆì—ˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤." },
            { "sentence": "With the help of this database, Germany's national soccer team was able to improve its performance and win the 2014 World Cup.", "meaning": "ì´ëŸ° ë°ì´í„°ë² ì´ìŠ¤ì˜ ë„ì›€ìœ¼ë¡œ, ë…ì¼ êµ­ê°€ëŒ€í‘œ ì¶•êµ¬íŒ€ì€ íŒ€ì˜ ì„±ê³¼ë¥¼ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆì—ˆê³  2014ë…„ ì›”ë“œì»µì—ì„œ ìš°ìŠ¹í•  ìˆ˜ ìˆì—ˆë‹¤." },
            { "sentence": "Thanks to big data, police can now predict crime before it happens.", "meaning": "ë¹…ë°ì´í„° ë•ë¶„ì—, ê²½ì°°ì€ ì´ì œ ë²”ì£„ê°€ ì¼ì–´ë‚˜ê¸° ì „ì— ê·¸ê²ƒì„ ì˜ˆì¸¡í•  ìˆ˜ ìˆë‹¤." },
            { "sentence": "Through the analysis of big data about the type, time and place of crime, police can make a map of crime hot spots.", "meaning": "ë²”ì£„ì˜ ìœ í˜•, ì‹œê°„, ì¥ì†Œì— ëŒ€í•œ ë¹…ë°ì´í„° ë¶„ì„ì„ í†µí•´, ê²½ì°°ì€ ë²”ì£„ ë‹¤ë°œ ì§€ì—­ì˜ ì§€ë„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤." },
            { "sentence": "This map identifies when and where crime is most likely to happen.", "meaning": "ì´ ì§€ë„ëŠ” ë²”ì£„ê°€ ì–¸ì œ ê·¸ë¦¬ê³  ì–´ë””ì„œ ê°€ì¥ ë§ì´ ì¼ì–´ë‚  ê²ƒ ê°™ì€ì§€ë¥¼ í™•ì¸í•œë‹¤." },
            { "sentence": "Police can prevent further crime by focusing on the areas and the times this map predicts.", "meaning": "ê²½ì°°ì€ ì´ ì§€ë„ê°€ ì˜ˆì¸¡í•˜ëŠ” ê·¸ ì§€ì—­ê³¼ ê·¸ ì‹œê°„ëŒ€ì— ì§‘ì¤‘í•¨ìœ¼ë¡œì¨ ì¶”ê°€ì˜ ë²”ì£„ë¥¼ ë§‰ì„ ìˆ˜ ìˆë‹¤." },
            { "sentence": "Big data has already changed the world greatly.", "meaning": "ë¹…ë°ì´í„°ëŠ” ì´ë¯¸ ì„¸ìƒì„ ë§ì´ ë³€í™”ì‹œí‚¤ê³  ìˆë‹¤." },
            { "sentence": "Nobody knows for sure, but experts agree that big data will play a more and more important role in our lives.", "meaning": "ì•„ë¬´ë„ í™•ì‹¤íˆ ì•Œì§€ëŠ” ëª»í•˜ì§€ë§Œ ì „ë¬¸ê°€ë“¤ì€ ë¹…ë°ì´í„°ê°€ ìš°ë¦¬ ì‚¶ì— ì ì  ë” ì¤‘ìš”í•œ ì—­í• ì„ í•  ê²ƒì´ë¼ëŠ” ê²ƒì— ë™ì˜í•œë‹¤." }
        ];

        const newSetData = {
            "id": Date.now(),
            "title": "ì¤‘3 ë™ì•„ìœ¤ 7ê³¼ ë³¸ë¬¸ (Living with Big Data)",
            "sentences": lesson7BodySentences,
            "report": {}
        };
        
        // ğŸŒŸ NEW: ì¤‘3 ë™ì•„ìœ¤ 8ê³¼ ë³¸ë¬¸ ë°ì´í„° ì¶”ê°€
        const lesson8BodySentences = [
            { "sentence": "Look at the painting on the right.", "meaning": "ì˜¤ë¥¸ìª½ì— ìˆëŠ” ê·¸ë¦¼ì„ ë³´ë¼." },
            { "sentence": "Do you see the Chinese character, hyo(å­)?", "meaning": "í•œì íš¨(å­)ê°€ ë³´ì´ëŠ”ê°€?" },
            { "sentence": "Do you also see a carp, a geomungo, and a fan?", "meaning": "ì‰ì–´, ê±°ë¬¸ê³ , ê·¸ë¦¬ê³  ë¶€ì±„ë„ ë³´ì´ëŠ”ê°€?" },
            { "sentence": "This kind of painting is called Munjado*, and it is a type of folk painting that was popular in the late Joseon dynasty.", "meaning": "ì´ëŸ° ì¢…ë¥˜ì˜ ê·¸ë¦¼ì„ ë¬¸ìë„ë¼ê³  í•˜ë©°, ê·¸ê²ƒì€ ì¡°ì„  ì‹œëŒ€ í›„ê¸°ì— ì¸ê¸° ìˆì—ˆë˜ ë¯¼í™”ì˜ í•œ ì¢…ë¥˜ì´ë‹¤." },
            { "sentence": "In Munjado, there is usually a Chinese character with some animals or objects.", "meaning": "ë¬¸ìë„ì—ëŠ” ë³´í†µ í•œì í•˜ë‚˜ê°€ ë™ë¬¼ì´ë‚˜ ì‚¬ë¬¼ë“¤ê³¼ í•¨ê»˜ ë‚˜ì˜¨ë‹¤." },
            { "sentence": "One of eight Chinese characters appears in Munjado.", "meaning": "ë¬¸ìë„ì—ëŠ” ì—¬ëŸ ê°œì˜ í•œì ì¤‘ í•˜ë‚˜ê°€ ë‚˜ì˜¨ë‹¤." },
            { "sentence": "They are hyo(å­), je(æ‚Œ), chung (å¿ ), sin(ä¿¡), ye(ç¦®), ui(ç¾©), yeom(å»‰), and chi(æ¥), and they represent the values that were important to people of the Joseon dynasty.", "meaning": "ê·¸ê²ƒë“¤ì€ íš¨(å­), ì œ(æ‚Œ), ì¶©(å¿ ), ì‹ (ä¿¡), ì˜ˆ(ç¦®), ì˜(ç¾©), ì—¼(å»‰), ì¹˜(æ¥)ì´ê³ , ì¡°ì„  ì‹œëŒ€ ì‚¬ëŒë“¤ì—ê²Œ ì¤‘ìš”í–ˆë˜ ê°€ì¹˜ë“¤ì„ ë‚˜íƒ€ë‚¸ë‹¤." },
            { "sentence": "The animals or objects in Munjado are not just decorations.", "meaning": "ë¬¸ìë„ì— ìˆëŠ” ë™ë¬¼ì´ë‚˜ ì‚¬ë¬¼ì€ ë‹¨ìˆœíˆ ì¥ì‹ì´ ì•„ë‹ˆë‹¤." },
            { "sentence": "They often are symbolic.", "meaning": "ê·¸ê²ƒë“¤ì€ ì¢…ì¢… ìƒì§•ì ì´ë‹¤." },
            { "sentence": "For example, carp in the paintings of hyo symbolize respect for parents because of an old story.", "meaning": "ì˜ˆë¥¼ ë“¤ì–´, 'íš¨' ê·¸ë¦¼ì— ìˆëŠ” ì‰ì–´ëŠ” í•œ ì˜›ì´ì•¼ê¸°ë¡œ ì¸í•´ ë¶€ëª¨ë‹˜ì— ëŒ€í•œ ê³µê²½ì„ ìƒì§•í•œë‹¤." },
            { "sentence": "The story goes as follows.", "meaning": "ê·¸ ì´ì•¼ê¸°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤." },
            { "sentence": "Once upon a time, a man lived with his old mother.", "meaning": "ì˜›ë‚  ì˜›ì ì— í•œ ë‚¨ìê°€ ë‚˜ì´ ë“  ì–´ë¨¸ë‹ˆì™€ ì‚´ê³  ìˆì—ˆë‹¤." },
            { "sentence": "One winter, the manâ€™s mother became ill and couldnâ€™t eat anything.", "meaning": "ì–´ëŠ ê²¨ìš¸, ë‚¨ìì˜ ì–´ë¨¸ë‹ˆëŠ” ë³‘ì´ ë“¤ì–´ì„œ ì•„ë¬´ ê²ƒë„ ë¨¹ì„ ìˆ˜ ì—†ì—ˆë‹¤." },
            { "sentence": "On one very cold day, the mother said to the man,", "meaning": "ë¬´ì²™ ì¶”ìš´ ì–´ëŠ ë‚ , ì–´ë¨¸ë‹ˆëŠ” ë‚¨ìì—ê²Œ ë§í–ˆë‹¤." },
            { "sentence": "â€œIt would be wonderful if I could eat fresh fish.â€", "meaning": "â€œì‹ ì„ í•œ ë¬¼ê³ ê¸°ë¥¼ ë¨¹ì„ ìˆ˜ ìˆë‹¤ë©´ ì •ë§ ì¢‹ê² êµ¬ë‚˜.â€" },
            { "sentence": "The man went out to the river, but it was completely frozen.", "meaning": "ë‚¨ìëŠ” ê°•ìœ¼ë¡œ ë‚˜ê°”ì§€ë§Œ, ê°•ì€ ì™„ì „íˆ ì–¼ì–´ë¶™ì–´ ìˆì—ˆë‹¤." },
            { "sentence": "It was impossible for him to catch any fish.", "meaning": "ê·¸ê°€ ì–´ë–¤ ë¬¼ê³ ê¸°ë¼ë„ ì¡ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í–ˆë‹¤." },
            { "sentence": "The man was so disappointed that he cried out to the sky, â€œWhat should I do?", "meaning": "ë‚¨ìëŠ” ëª¹ì‹œ ë‚™ë‹´í•´ì„œ í•˜ëŠ˜ì— ëŒ€ê³  ì™¸ì³¤ë‹¤. â€œì œê°€ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?" },
            { "sentence": "Please help me.â€ Then the ice melted, and three carp suddenly came out of the water.", "meaning": "ì œë°œ ì €ë¥¼ ë„ì™€ì£¼ì„¸ìš”.â€ ê·¸ëŸ¬ì ì–¼ìŒì´ ë…¹ì•˜ê³ , ì‰ì–´ ì„¸ ë§ˆë¦¬ê°€ ê°‘ìê¸° ë¬¼ ë°–ìœ¼ë¡œ ë‚˜ì™”ë‹¤." },
            { "sentence": "The man went back home and cooked the fish for his mother.", "meaning": "ë‚¨ìëŠ” ì§‘ìœ¼ë¡œ ëŒì•„ê°€ì„œ ì–´ë¨¸ë‹ˆì—ê²Œ ê·¸ ë¬¼ê³ ê¸°ë“¤ì„ ìš”ë¦¬í•´ ë“œë ¸ë‹¤." },
            { "sentence": "Then his mother got well.", "meaning": "ê·¸ëŸ¬ì ê·¸ì˜ ì–´ë¨¸ë‹ˆëŠ” ë³‘ì´ ë‚˜ì•˜ë‹¤." },
            { "sentence": "There are other examples of symbolic objects in Munjado.", "meaning": "ë¬¸ìë„ì— ìˆëŠ” ìƒì§•ì ì¸ ì‚¬ë¬¼ì˜ ë˜ ë‹¤ë¥¸ ì˜ˆê°€ ìˆë‹¤." },
            { "sentence": "They are bamboo in the paintings of the character chung(å¿ ) and lotus flowers in the paintings of ui(ç¾©).", "meaning": "ê¸€ì 'ì¶©(å¿ )' ê·¸ë¦¼ì— ìˆëŠ” ëŒ€ë‚˜ë¬´ì™€ 'ì˜(ç¾©)' ê·¸ë¦¼ì— ìˆëŠ” ì—°ê½ƒì´ë‹¤." },
            { "sentence": "Bamboo does not bend.", "meaning": "ëŒ€ë‚˜ë¬´ëŠ” êµ¬ë¶€ëŸ¬ì§€ì§€ ì•ŠëŠ”ë‹¤." },
            { "sentence": "It stays green in all kinds of weather.", "meaning": "ê·¸ê²ƒì€ ì–´ë–¤ ë‚ ì”¨ì—ì„œë„ í‘¸ë¥´ë¦„ì„ ìœ ì§€í•œë‹¤." },
            { "sentence": "For these reasons, bamboo came to symbolize loyalty to the king.", "meaning": "ì´ëŸ° ì´ìœ ë¡œ, ëŒ€ë‚˜ë¬´ëŠ” ì™•ì— ëŒ€í•œ ì¶©ì„±ì‹¬ì„ ìƒì§•í•˜ê²Œ ë˜ì—ˆë‹¤." },
            { "sentence": "In the case of lotus flowers, they grow in muddy ponds but still bloom beautifully.", "meaning": "ì—°ê½ƒì˜ ê²½ìš°, ê·¸ê²ƒë“¤ì€ ì§„í™íˆ¬ì„±ì´ì˜ ì—°ëª»ì—ì„œ ìë¼ì§€ë§Œ ê·¸ëŸ¼ì—ë„ ì•„ë¦„ë‹µê²Œ ê½ƒì„ í”¼ìš´ë‹¤." },
            { "sentence": "They thus became a symbol of a personâ€™s will to fight for justice despite difficulties.", "meaning": "ê·¸ë˜ì„œ ê·¸ ê½ƒë“¤ì€ ì–´ë ¤ì›€ì—ë„ ë¶ˆêµ¬í•˜ê³  ì •ì˜ë¥¼ ìœ„í•´ ì‹¸ìš°ëŠ” í•œ ì‚¬ëŒì˜ ì˜ì§€ë¥¼ ìƒì§•í•˜ê²Œ ë˜ì—ˆë‹¤." },
            { "sentence": "Munjado was much more than a painting to people of the Joseon dynasty.", "meaning": "ë¬¸ìë„ëŠ” ì¡°ì„  ì‹œëŒ€ ì‚¬ëŒë“¤ì—ê²Œ ê·¸ë¦¼ ê·¸ í›¨ì”¬ ì´ìƒì˜ ê²ƒì´ì—ˆë‹¤." },
            { "sentence": "It reminded them of important values that greatly influenced their behaviors and attitudes.", "meaning": "ê·¸ê²ƒì€ ê·¸ë“¤ì—ê²Œ ìì‹ ë“¤ì˜ í–‰ë™ê³¼ íƒœë„ì— í° ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì¤‘ìš”í•œ ê°€ì¹˜ë¥¼ ìƒê¸°ì‹œì¼°ë‹¤." },
            { "sentence": "In particular, for children, Munjado was a study tool.", "meaning": "íŠ¹íˆ ì•„ì´ë“¤ì—ê²Œ ë¬¸ìë„ëŠ” í•™ìŠµ ë„êµ¬ì˜€ë‹¤." },
            { "sentence": "Through it, children in the Joseon dynasty could learn the importance of harmony in family and society.", "meaning": "ê·¸ê²ƒì„ í†µí•´ ì¡°ì„  ì‹œëŒ€ì˜ ì•„ì´ë“¤ì€ ê°€ì¡±ê³¼ ì‚¬íšŒì—ì„œ ì¡°í™”ì˜ ì¤‘ìš”ì„±ì„ ë°°ìš¸ ìˆ˜ ìˆì—ˆë‹¤." }
        ];

        const newSetData8 = {
            "id": Date.now() + 1, // 7ê³¼ì™€ ì¶©ëŒ ë°©ì§€ë¥¼ ìœ„í•´ +1
            "title": "ì¤‘3 ë™ì•„ìœ¤ 8ê³¼ ë³¸ë¬¸ (The Joseon Dynasty Through Paintings)",
            "sentences": lesson8BodySentences,
            "report": {}
        };
        // ğŸŒŸ END: ì¤‘3 ë™ì•„ìœ¤ 8ê³¼ ë³¸ë¬¸ ë°ì´í„° ì¶”ê°€

        const defaultData = [
            { "id": 1, "title": "ì¤‘3 ë™ì•„(ìœ¤ì •ë¯¸) 5ê³¼ ë³¸ë¬¸", "sentences": [ { "sentence": "In sports, only the players get a trophy or medal, but they don't win on their own.", "meaning": "ìŠ¤í¬ì¸ ì—ì„œëŠ” ì„ ìˆ˜ë“¤ë§Œ íŠ¸ë¡œí”¼ë‚˜ ë©”ë‹¬ì„ ë°›ì§€ë§Œ, ê·¸ë“¤ì´ í˜¼ì í˜ìœ¼ë¡œ ìš°ìŠ¹í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤." }, { "sentence": "There are people who help the players.", "meaning": "ê·¸ ì„ ìˆ˜ë“¤ì„ ë•ëŠ” ì‚¬ëŒë“¤ì´ ìˆë‹¤." }, { "sentence": "These people are often hidden and don't get attention.", "meaning": "ì´ ì‚¬ëŒë“¤ì€ ì¢…ì¢… ìˆ¨ê²¨ì ¸ ìˆê³  ì£¼ëª©ì„ ë°›ì§€ ëª»í•œë‹¤." }, { "sentence": "However, they are as important as the players.", "meaning": "í•˜ì§€ë§Œ ê·¸ë“¤ì€ ì„ ìˆ˜ë“¤ë§Œí¼ ì¤‘ìš”í•˜ë‹¤." }, { "sentence": "Here are some examples.", "meaning": "ì—¬ê¸° ëª‡ ê°€ì§€ ì˜ˆê°€ ìˆë‹¤." }, { "sentence": "Pacers run with other runners and lead them in a marathon.", "meaning": "í˜ì´ì„œë“¤ì€ ë§ˆë¼í†¤ì—ì„œ ë‹¤ë¥¸ ì„ ìˆ˜ë“¤ê³¼ í•¨ê»˜ ë‹¬ë¦¬ë©° ê·¸ë“¤ì„ ì´ëˆë‹¤." }, { "sentence": "Pacers are experienced runners, and their job is to help other runners manage their race better.", "meaning": "í˜ì´ì„œë“¤ì€ ê²½í—˜ì´ ë§ì€ ì„ ìˆ˜ë“¤ì´ë©°, ê·¸ë“¤ì˜ ì—­í• ì€ ë‹¤ë¥¸ ì„ ìˆ˜ë“¤ì´ ê²½ì£¼ë¥¼ ë” ì˜ ìš´ì˜í•˜ë„ë¡ ë•ëŠ” ê²ƒì´ë‹¤." }, { "sentence": "There can be several pacers in a race.", "meaning": "í•œ ê²½ì£¼ì—ëŠ” ì—¬ëŸ¬ ëª…ì˜ í˜ì´ì„œë“¤ì´ ìˆì„ ìˆ˜ ìˆë‹¤." }, { "sentence": "Each pacer runs at different speeds and finishes the race in different times.", "meaning": "ê°ê°ì˜ í˜ì´ì„œëŠ” ë‹¤ë¥¸ ì†ë„ë¡œ ë‹¬ë¦¬ê³  ë‹¤ë¥¸ ì‹œê°„ëŒ€ì— ê²½ì£¼ë¥¼ ë§ˆì¹œë‹¤." }, { "sentence": "Pacers usually have flags or balloons showing their finish time.", "meaning": "í˜ì´ì„œë“¤ì€ ë³´í†µ ìì‹ ë“¤ì˜ ì™„ì£¼ ì‹œê°„ì„ ë‚˜íƒ€ë‚´ëŠ” ê¹ƒë°œì´ë‚˜ í’ì„ ì„ ê°€ì§€ê³  ìˆë‹¤." }, { "sentence": "Runners can choose a pacer depending on their target finish time.", "meaning": "ì„ ìˆ˜ë“¤ì€ ìì‹ ë“¤ì˜ ëª©í‘œ ì™„ì£¼ ì‹œê°„ì— ë”°ë¼ í˜ì´ì„œë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤." }, { "sentence": "For example, if a runner wants to finish the race in four hours, the runner will follow the four-hour pacer.", "meaning": "ì˜ˆë¥¼ ë“¤ì–´, í•œ ì„ ìˆ˜ê°€ 4ì‹œê°„ ì•ˆì— ê²½ì£¼ë¥¼ ë§ˆì¹˜ê³  ì‹¶ë‹¤ë©´, ê·¸ ì„ ìˆ˜ëŠ” 4ì‹œê°„ í˜ì´ì„œë¥¼ ë”°ë¼ê°ˆ ê²ƒì´ë‹¤." }, { "sentence": "Since the pacer keeps track of the time, the runner can achieve his or her goal of finishing the marathon in a particular time more easily.", "meaning": "í˜ì´ì„œê°€ ì‹œê°„ì„ ê³„ì†í•´ì„œ íŒŒì•…í•˜ê¸° ë•Œë¬¸ì—, ì„ ìˆ˜ëŠ” íŠ¹ì • ì‹œê°„ ì•ˆì— ë§ˆë¼í†¤ì„ ì™„ì£¼í•˜ë ¤ëŠ” ìì‹ ì˜ ëª©í‘œë¥¼ ë” ì‰½ê²Œ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤." }, { "sentence": "In short, pacers run but they don't run to win.", "meaning": "ìš”ì»¨ëŒ€, í˜ì´ì„œë“¤ì€ ë‹¬ë¦¬ê¸°ëŠ” í•˜ì§€ë§Œ ìš°ìŠ¹ì„ í•˜ê¸° ìœ„í•´ ë‹¬ë¦¬ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤." }, { "sentence": "They run for others.", "meaning": "ê·¸ë“¤ì€ ë‹¤ë¥¸ ì´ë“¤ì„ ìœ„í•´ ë‹¬ë¦°ë‹¤." }, { "sentence": "You may only see the car and the driver during most car races, but there is a team behind the driver.", "meaning": "ì—¬ëŸ¬ë¶„ì€ ëŒ€ë¶€ë¶„ì˜ ìë™ì°¨ ê²½ì£¼ì—ì„œ ìë™ì°¨ì™€ ë ˆì´ì„œë§Œ ë³¼ì§€ë„ ëª¨ë¥´ê² ì§€ë§Œ, ê·¸ ë ˆì´ì„œ ë’¤ì—ëŠ” íŒ€ì´ ìˆë‹¤." }, { "sentence": "This team is called a pit crew.", "meaning": "ì´ íŒ€ì€ í”¼íŠ¸ í¬ë£¨ë¼ê³  ë¶ˆë¦°ë‹¤." }, { "sentence": "A pit is a place on the side of the race track, and drivers stop there several times during a race.", "meaning": "í”¼íŠ¸ëŠ” ê²½ì£¼ íŠ¸ë™ì˜ ì˜†ì— ìˆëŠ” ê³µê°„ìœ¼ë¡œ, ë ˆì´ì„œë“¤ì´ ê²½ì£¼ ë„ì¤‘ì— ê·¸ê³³ì— ì—¬ëŸ¬ ë²ˆ ì •ì§€í•œë‹¤." }, { "sentence": "The main job of the pit crew is to check the car and change the tires.", "meaning": "í”¼íŠ¸ í¬ë£¨ê°€ í•˜ëŠ” ì£¼ìš” ì—­í• ì€ ìë™ì°¨ë¥¼ ì ê²€í•˜ê³  íƒ€ì´ì–´ë¥¼ êµì²´í•˜ëŠ” ê²ƒì´ë‹¤." }, { "sentence": "Changing the tires is especially important because the tires wear out easily in a high speed race.", "meaning": "ë¹ ë¥¸ ì†ë„ì˜ ê²½ì£¼ì—ì„œëŠ” íƒ€ì´ì–´ê°€ ì‰½ê²Œ ë§ˆëª¨ë˜ê¸° ë•Œë¬¸ì— íƒ€ì´ì–´ë¥¼ êµì²´í•˜ëŠ” ê²ƒì´ íŠ¹íˆ ì¤‘ìš”í•˜ë‹¤." }, { "sentence": "A pit stop can be as short as 2 seconds, and there are as many as 20 members on a crew.", "meaning": "í”¼íŠ¸ì—ì„œì˜ ì •ì§€ëŠ” ì§§ê²ŒëŠ” 2ì´ˆ ì •ë„ê°€ ë  ìˆ˜ ìˆê³ , í•œ í¬ë£¨ì— ë§ê²ŒëŠ” 20ëª…ì— ì´ë¥´ëŠ” êµ¬ì„±ì›ì´ ìˆë‹¤." }, { "sentence": "Therefore, the pit crew has to work in perfect harmony.", "meaning": "ê·¸ëŸ¬ë¯€ë¡œ í”¼íŠ¸ í¬ë£¨ëŠ” ì™„ë²½í•œ ì¡°í™”ë¥¼ ì´ë£¨ë©° ì¼í•´ì•¼ í•œë‹¤." }, { "sentence": "The driver may get all the attention, but as people say, Races are won in the pits.", "meaning": "ë ˆì´ì„œë§Œ ëª¨ë“  ì£¼ëª©ì„ ë°›ì„ì§€ ëª¨ë¥´ì§€ë§Œ ì‚¬ëŒë“¤ì´ ë§í•˜ëŠ” ê²ƒì²˜ëŸ¼, ê²½ì£¼ì˜ ìš°ìŠ¹ì€ í”¼íŠ¸ì—ì„œ ì´ë£¨ì–´ì§„ë‹¤." }, { "sentence": "The word Sherpa comes from the Sherpa tribe, which lives in the eastern part of Nepal.", "meaning": "Sherpaë¼ëŠ” ë‹¨ì–´ëŠ” ì…°ë¥´íŒŒì¡±ì—ì„œ ìœ ë˜ë˜ì—ˆëŠ”ë°, ì…°ë¥´íŒŒì¡±ì€ ë„¤íŒ”ì˜ ë™ìª½ ì§€ì—­ì— ì‚°ë‹¤." }, { "sentence": "Sherpas have good climbing skills and know their way around the mountains well.", "meaning": "ì…°ë¥´íŒŒëŠ” í›Œë¥­í•œ ë“±ë°˜ ê¸°ìˆ ì„ ê°€ì¡Œìœ¼ë©° ì‚°ì˜ ì§€ë¦¬ì— ë°ë‹¤." }, { "sentence": "They also have little difficulty breathing high up in the mountains.", "meaning": "ê·¸ë“¤ì€ ë˜í•œ ì‚°ì˜ ë†’ì€ ê³³ì—ì„œ í˜¸í¡í•˜ëŠ” ë° ì–´ë ¤ì›€ì´ ê±°ì˜ ì—†ë‹¤." }, { "sentence": "Therefore, mountain climbers started to hire Sherpas to help them climb Mount Everest.", "meaning": "ê·¸ë˜ì„œ ë“±ì‚°ê°€ë“¤ì€ ìì‹ ë“¤ì´ ì—ë² ë ˆìŠ¤íŠ¸ì‚°ì„ ë“±ë°˜í•˜ëŠ” ê²ƒì„ ë•ëŠ” ì…°ë¥´íŒŒë¥¼ ê³ ìš©í•˜ê¸° ì‹œì‘í–ˆë‹¤." }, { "sentence": "Sherpas lead mountain climbers to the top of the mountain.", "meaning": "ì…°ë¥´íŒŒëŠ” ë“±ì‚°ê°€ë“¤ì„ ì‚° ì •ìƒê¹Œì§€ ì´ëˆë‹¤." }, { "sentence": "They support climbers in many ways.", "meaning": "ê·¸ë“¤ì€ ì—¬ëŸ¬ ë°©ì‹ìœ¼ë¡œ ë“±ì‚°ê°€ë“¤ì„ ì§€ì›í•œë‹¤." }, { "sentence": "For example, they put up tents and carry climbers' bags.", "meaning": "ì˜ˆë¥¼ ë“¤ì–´, ê·¸ë“¤ì€ í…íŠ¸ë¥¼ ì¹˜ê³  ë“±ì‚°ê°€ë“¤ì˜ ê°€ë°©ì„ ìš´ë°˜í•œë‹¤." }, { "sentence": "Sherpas are often called the invisible people of Mount Everest because people often see a picture of only the climbers at the top of the mountain.", "meaning": "ì…°ë¥´íŒŒëŠ” ì¢…ì¢… ì—ë² ë ˆìŠ¤íŠ¸ì‚°ì˜ ë³´ì´ì§€ ì•ŠëŠ” ì‚¬ëŒë“¤ë¡œ ë¶ˆë¦¬ëŠ”ë°, ì™œëƒí•˜ë©´ ì‚¬ëŒë“¤ì€ í”íˆ ì‚° ì •ìƒì—ì„œ ë“±ì‚°ê°€ë“¤ë§Œ ì°íŒ ì‚¬ì§„ì„ ë³´ê¸° ë•Œë¬¸ì´ë‹¤." } ], "report": {} },
            {
                "id": 2,
                "title": "ì¶”ê°€ ëŒ€í™”ë¬¸",
                "sentences": [
                    { "sentence": "How often do you play basketball?", "meaning": "ë†êµ¬ ì–¼ë§ˆë‚˜ ìì£¼ í•´?" },
                    { "sentence": "I play once a week, but I want to play more often.", "meaning": "ì¼ì£¼ì¼ì— í•œ ë²ˆ í•˜ëŠ”ë°, ë” ìì£¼ í•˜ê³  ì‹¶ì–´." },
                    { "sentence": "I suggest you join my basketball club. We play three times a week.", "meaning": "ìš°ë¦¬ ë†êµ¬ ë™ì•„ë¦¬ì— ê°€ì…í•˜ëŠ” ê±¸ ì œì•ˆí• ê²Œ. ìš°ë¦¬ëŠ” ì¼ì£¼ì¼ì— ì„¸ ë²ˆ í•´." },
                    { "sentence": "That sounds good! Itâ€™ll be fun to play with you.", "meaning": "ì¢‹ì€ ìƒê°ì´ì•¼! ë„ˆë‘ ê°™ì´ í•˜ë©´ ì¬ë¯¸ìˆê² ë‹¤." },
                    { "sentence": "I donâ€™t swim often. How about you, Kate? How often do you swim?", "meaning": "ë‚˜ëŠ” ìˆ˜ì˜ì„ ìì£¼ ì•ˆ í•´. ë„ˆëŠ” ì–´ë•Œ, Kate? ì–¼ë§ˆë‚˜ ìì£¼ ìˆ˜ì˜í•´?" },
                    { "sentence": "I swim four times a week.", "meaning": "ë‚˜ëŠ” ì¼ì£¼ì¼ì— ë„¤ ë²ˆ ìˆ˜ì˜í•´." },
                    { "sentence": "That often? Anyway, itâ€™ll be fun swimming together today.", "meaning": "ê·¸ë ‡ê²Œ ìì£¼? ì•„ë¬´íŠ¼, ì˜¤ëŠ˜ ê°™ì´ ìˆ˜ì˜í•˜ë©´ ì¬ë¯¸ìˆê² ë‹¤." },
                    { "sentence": "Yes, but before we swim, I suggest we do stretching exercises.", "meaning": "ì‘, í•˜ì§€ë§Œ ìˆ˜ì˜í•˜ê¸° ì „ì— ìŠ¤íŠ¸ë ˆì¹­ ìš´ë™ì„ í•˜ëŠ” ê²Œ ì¢‹ê² ì–´." },
                    { "sentence": "Thatâ€™s a good idea.", "meaning": "ì¢‹ì€ ìƒê°ì´ì•¼." },
                    { "sentence": "Suji, how often do you take bowling lessons?", "meaning": "ìˆ˜ì§€ì•¼, ë³¼ë§ ê°•ìŠµ ì–¼ë§ˆë‚˜ ìì£¼ ë°›ì•„?" },
                    { "sentence": "Twice a week. Iâ€™m just a beginner. I heard youâ€™re very good.", "meaning": "ì¼ì£¼ì¼ì— ë‘ ë²ˆ. ë‚œ ì´ì œ ë§‰ ì‹œì‘í–ˆì–´. ë„ˆëŠ” ì•„ì£¼ ì˜í•œë‹¤ê³  ë“¤ì—ˆì–´." },
                    { "sentence": "Well, I love bowling. Hmm. Your bowling ball looks heavy for you.", "meaning": "ìŒ, ë‚˜ëŠ” ë³¼ë§ì„ ì •ë§ ì¢‹ì•„í•´. í . ë„¤ ë³¼ë§ê³µì´ ë„ˆí•œí…Œ ë¬´ê±°ì›Œ ë³´ì—¬." },
                    { "sentence": "I suggest you use a lighter ball.", "meaning": "ë” ê°€ë²¼ìš´ ê³µì„ ì‚¬ìš©í•˜ëŠ” ê±¸ ì œì•ˆí• ê²Œ." },
                    { "sentence": "OK. Iâ€™ll look for a lighter one, then.", "meaning": "ì•Œê² ì–´. ê·¸ëŸ¼ ë” ê°€ë²¼ìš´ ê±¸ ì°¾ì•„ë³¼ê²Œ." },
                    { "sentence": "Mina, how often do you come here to run?", "meaning": "ë¯¸ë‚˜ì•¼, ì—¬ê¸° ì–¼ë§ˆë‚˜ ìì£¼ ë‹¬ë¦¬ëŸ¬ ì™€?" },
                    { "sentence": "Every day.", "meaning": "ë§¤ì¼." },
                    { "sentence": "Can I run with you today?", "meaning": "ì˜¤ëŠ˜ ë„ˆë‘ ê°™ì´ ë‹¬ë ¤ë„ ë ê¹Œ?" },
                    { "sentence": "Sure, but I suggest you wear running shoes. Your shoes arenâ€™t good for running.", "meaning": "ë¬¼ë¡ ì´ì§€, í•˜ì§€ë§Œ ìš´ë™í™”ë¥¼ ì‹ ëŠ” ê²Œ ì¢‹ê² ì–´. ë„¤ ì‹ ë°œì€ ë‹¬ë¦¬ê¸°ì— ì í•©í•˜ì§€ ì•Šì•„." }
                ],
                "report": {}
            }
        ];

        function initializeSets(initialData) {
            const savedData = localStorage.getItem('sentenceArrangementSets');
            if (savedData) {
                try {
                    sets = JSON.parse(savedData);
                    // 7ê³¼ ë°ì´í„° ì¶”ê°€ (ê¸°ì¡´ ë¡œì§)
                    if (!sets.find(set => set.title === newSetData.title)) {
                        sets.push(newSetData);
                        saveSets();
                    }
                    // ğŸŒŸ NEW: 8ê³¼ ë°ì´í„° ì¶”ê°€
                    if (!sets.find(set => set.title === newSetData8.title)) {
                        sets.push(newSetData8);
                        saveSets();
                    }
                } catch (e) {
                    sets = [...initialData, newSetData, newSetData8]; // ğŸŒŸ 8ê³¼ ì¶”ê°€
                    saveSets();
                }
            } else {
                sets = [...initialData, newSetData, newSetData8]; // ğŸŒŸ 8ê³¼ ì¶”ê°€
                saveSets();
            }
        }

        function showScreen(screenName) { Object.values(screens).forEach(screen => screen.classList.add('hidden')); screens[screenName].classList.remove('hidden'); }
        function saveSets() { localStorage.setItem('sentenceArrangementSets', JSON.stringify(sets)); }

        function loadSets() { initializeSets(defaultData); }

        function renderMainScreen() {
            setList.innerHTML = '';
            sets.forEach((set, index) => {
                const li = document.createElement('li');
                li.className = 'set-item';
                li.dataset.index = index;
                // ğŸŒŸ ìˆ˜ì •: ì˜¤ë‹µ í•™ìŠµ ë²„íŠ¼ í´ë˜ìŠ¤ë¥¼ btn-warningì—ì„œ btn-light-primaryë¡œ ë³€ê²½
                li.innerHTML = `
                    <span class="set-item-title">${set.title}</span>
                    <div class="set-item-controls">
                        <button class="btn btn-primary start-btn">í•™ìŠµ ì‹œì‘</button>
                        <button class="btn btn-light-primary wrong-answer-btn">ì˜¤ë‹µ í•™ìŠµ</button>
                        <button class="btn report-btn">ë¦¬í¬íŠ¸</button>
                        <button class="btn btn-danger delete-btn">ì‚­ì œ</button>
                    </div>`;
                setList.appendChild(li);
            });
        }
        function addSentenceInputField(sentence = '', meaning = '') {
            const div = document.createElement('div');
            div.className = 'sentence-pair';
            div.innerHTML = `<input type="text" class="sentence-input" placeholder="ë¬¸ì¥" value="${sentence}"><input type="text" class="meaning-input" placeholder="ëœ»" value="${meaning}">`;
            sentenceInputsContainer.appendChild(div);
        }
        function handleSaveSet() {
            const title = setTitleInput.value.trim(); if (!title) return alert('ì„¸íŠ¸ ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            const newSentences = [];
            sentenceInputsContainer.querySelectorAll('.sentence-pair').forEach(p => { const s = p.querySelector('.sentence-input').value.trim(); const m = p.querySelector('.meaning-input').value.trim(); if (s && m) newSentences.push({ sentence: s, meaning: m }); });
            if (newSentences.length === 0) return alert('í•˜ë‚˜ ì´ìƒì˜ ë¬¸ì¥ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.');
            sets.push({ id: Date.now(), title: title, sentences: newSentences, report: {} });
            saveSets(); renderMainScreen(); showScreen('main');
        }

        function startLearning(setIndex, numQuestions, mode = 'random') {
            currentSetIndex = setIndex;
            currentQuestionIndex = 0;
            const currentSet = sets[currentSetIndex];
            if (!currentSet) { console.error("Error: Invalid setIndex", setIndex); return; }

            let sentencesToLearn = [...currentSet.sentences];
            
            if (mode === 'random') {
                sentencesToLearn.sort(() => 0.5 - Math.random());
            } 

            currentSessionSentences = sentencesToLearn.slice(0, numQuestions);

            learningSetTitle.textContent = currentSet.title;
            renderQuestion();
            showScreen('learning');
        }

        function startWrongAnswerLearning(setIndex) {
            currentSetIndex = setIndex;
            currentQuestionIndex = 0;
            const currentSet = sets[currentSetIndex];
            if (!currentSet) { console.error("Error: Invalid setIndex", setIndex); return; }

            const reportData = currentSet.report || {};
            
            const wrongSentences = Object.keys(reportData)
                .map(sentence => ({
                    sentence: sentence,
                    count: reportData[sentence]
                }))
                .filter(item => item.count > 0)
                .sort((a, b) => b.count - a.count)
                .slice(0, 10); 

            if (wrongSentences.length === 0) {
                alert('ì˜¤ë‹µ ê¸°ë¡ì´ ì—†ê±°ë‚˜ 1íšŒ ì´ìƒ í‹€ë¦° ë¬¸ì¥ì´ ì—†ìŠµë‹ˆë‹¤. ì¼ë°˜ í•™ìŠµì„ ì´ìš©í•´ ì£¼ì„¸ìš”.');
                return;
            }

            currentSessionSentences = wrongSentences.map(item => {
                const fullSentence = currentSet.sentences.find(s => s.sentence === item.sentence);
                return fullSentence || { sentence: item.sentence, meaning: 'ëœ» ì •ë³´ ì—†ìŒ (ì›ë³¸ ë¬¸ì¥ ì‚­ì œë¨)' };
            }).filter(s => s.meaning !== 'ëœ» ì •ë³´ ì—†ìŒ (ì›ë³¸ ë¬¸ì¥ ì‚­ì œë¨)'); 

            if (currentSessionSentences.length === 0) {
                alert('ì˜¤ë‹µ ë¬¸ì¥ì— ëŒ€í•œ ì›ë³¸ ì •ë³´ê°€ ì„¸íŠ¸ì—ì„œ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì¼ë°˜ í•™ìŠµì„ ì´ìš©í•´ ì£¼ì„¸ìš”.');
                return;
            }

            learningSetTitle.textContent = `${currentSet.title} (ì˜¤ë‹µ í•™ìŠµ - ${currentSessionSentences.length}ê°œ)`;
            renderQuestion();
            showScreen('learning');
        }


        function renderQuestion() {
            isFirstAttempt = true; feedbackArea.innerHTML = '';
            checkBtn.classList.remove('hidden'); 
            undoBtn.classList.remove('hidden');
            showAnswerBtn.classList.add('hidden'); nextQuestionBtn.classList.add('hidden');
            checkBtn.disabled = false;
            // FIX: ë‹¤ìŒ ë¬¸ì œ ì‹œì‘ ì‹œ ë˜ëŒë¦¬ê¸° ë²„íŠ¼ì„ ê°•ì œë¡œ í™œì„±í™” (disabled ìƒíƒœ ì´ˆê¸°í™”)
            undoBtn.disabled = false; 

            const question = currentSessionSentences[currentQuestionIndex];
            progressDisplay.textContent = `${currentQuestionIndex + 1} / ${currentSessionSentences.length}`;
            meaningDisplay.textContent = question.meaning;
            
            currentSentenceWords = splitSentenceIntoWords(question.sentence);
            
            const shuffledWords = [...currentSentenceWords].sort(() => 0.5 - Math.random());
            
            arrangementArea.innerHTML = '';
            wordBank.innerHTML = '';
            
            shuffledWords.forEach((word, index) => {
                const wordBtn = document.createElement('button');
                wordBtn.textContent = word;
                wordBtn.className = 'word-btn';
                wordBtn.dataset.originalIndex = index;
                wordBtn.addEventListener('click', () => {
                    // ì •ë‹µì´ ê³µê°œëœ ìƒíƒœê°€ ì•„ë‹ˆë¼ë©´ ë‹¨ì–´ë¥¼ ë°°ì—´í•  ìˆ˜ ìˆìŒ
                    if (checkBtn.disabled && showAnswerBtn.classList.contains('hidden')) return; 
                    arrangeWord(wordBtn);
                });
                wordBank.appendChild(wordBtn);
            });
        }
        
        function arrangeWord(wordBtn) {
            wordBtn.disabled = true;
            const arrangedWord = document.createElement('span');
            arrangedWord.textContent = wordBtn.textContent;
            arrangedWord.className = 'arranged-word';
            arrangedWord.dataset.originalIndex = wordBtn.dataset.originalIndex;
            arrangedWord.dataset.source = 'word-bank'; 

            arrangedWord.addEventListener('click', () => {
                // ë°°ì—´ëœ ë‹¨ì–´ë¥¼ í´ë¦­í•´ì„œ ë˜ëŒë¦¬ê¸° í•˜ëŠ” ê¸°ëŠ¥ì€ í˜„ì¬ í—ˆìš©í•˜ì§€ ì•ŠìŒ
            });
            
            arrangementArea.appendChild(arrangedWord);
        }

        function handleUndo() {
            // ë˜ëŒë¦¬ê¸° ë²„íŠ¼ ìì²´ê°€ ë¹„í™œì„±í™”ë˜ì–´ ìˆë‹¤ë©´ (ì •ë‹µ í›„ ë“±) ì‹¤í–‰í•˜ì§€ ì•ŠìŒ
            if(undoBtn.disabled) return; 

            const arrangedWords = arrangementArea.querySelectorAll('.arranged-word');
            if (arrangedWords.length > 0) {
                const lastWord = arrangedWords[arrangedWords.length - 1];
                const originalIndex = lastWord.dataset.originalIndex;
                
                // 1. ë°°ì—´ ì˜ì—­ì—ì„œ ë‹¨ì–´ ì‚­ì œ
                arrangementArea.removeChild(lastWord);
                
                // 2. Word Bankì—ì„œ í•´ë‹¹ ë²„íŠ¼ í™œì„±í™” (íšŒìƒ‰ -> ì›ë˜ ìƒ‰ìƒ)
                const sourceButton = wordBank.querySelector(`[data-original-index="${originalIndex}"]`);
                if (sourceButton) {
                    sourceButton.disabled = false;
                }
            }
        }

        function handleCheck() {
            const set = sets[currentSetIndex];
            const question = currentSessionSentences[currentQuestionIndex];
            const arrangedWords = Array.from(arrangementArea.querySelectorAll('.arranged-word')).map(span => span.textContent);
            
            const correctSentence = currentSentenceWords.join(' ');
            const userSentence = arrangedWords.join(' ');
            
            feedbackArea.innerHTML = '';
            
            if (userSentence === correctSentence) {
                // ğŸŒŸ ì •ë‹µì¸ ê²½ìš°: ëª¨ë“  ìƒí˜¸ì‘ìš© ë¹„í™œì„±í™” ë° ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™

                // 1. ìƒí˜¸ì‘ìš© ë¹„í™œì„±í™” (ì •ë‹µì¼ ë•Œë§Œ)
                checkBtn.disabled = true;
                wordBank.querySelectorAll('.word-btn').forEach(btn => btn.disabled = true);
                arrangementArea.querySelectorAll('.arranged-word').forEach(span => span.style.cursor = 'default');

                // 2. UI ì „í™˜ (ì •ë‹µ)
                feedbackArea.innerHTML = '<p class="feedback correct">ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤!</p>';
                checkBtn.classList.add('hidden'); 
                undoBtn.classList.add('hidden'); 
                undoBtn.disabled = true;
                showAnswerBtn.classList.add('hidden'); 
                nextQuestionBtn.classList.remove('hidden');
            } else {
                // ğŸŒŸ ì˜¤ë‹µì¸ ê²½ìš°: ë¦¬í¬íŠ¸ ê¸°ë¡ ë° ì¬ì‹œë„/ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™” (ê³„ì† ì±„ì  ê°€ëŠ¥)

                // 1. ì˜¤ë‹µ ë¦¬í¬íŠ¸ ê¸°ë¡ (ì²« ì‹œë„ì—ë§Œ)
                if (isFirstAttempt) { 
                    if (!set.report) set.report = {}; 
                    set.report[question.sentence] = (set.report[question.sentence] || 0) + 1; 
                    saveSets(); 
                    isFirstAttempt = false; 
                }
                
                // 2. UI ì „í™˜ (ì˜¤ë‹µ: ì¬ì‹œë„/ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”)
                feedbackArea.innerHTML = '<p class="feedback incorrect">âŒ ìˆœì„œê°€ í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•˜ê³  ì¬ë°°ì—´í•˜ê±°ë‚˜, ë‹¤ìŒ ë¬¸í•­ìœ¼ë¡œ ë„˜ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>';
                
                checkBtn.classList.remove('hidden'); 
                checkBtn.disabled = false; // **í•µì‹¬ ìˆ˜ì • ì‚¬í•­: ë‹¤ì‹œ ì±„ì í•  ìˆ˜ ìˆê²Œ í™œì„±í™”**
                
                showAnswerBtn.classList.add('hidden'); // ì •ë‹µ ë³´ê¸°ëŠ” ìˆ¨ê¹€
                nextQuestionBtn.classList.remove('hidden'); // **í•µì‹¬ ìˆ˜ì • ì‚¬í•­: ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”**
                
                undoBtn.classList.remove('hidden'); 
                undoBtn.disabled = false; 
                
                // ë‹¨ì–´ í´ë¦­ ìƒí˜¸ì‘ìš©ì€ ê³„ì† ìœ ì§€ë¨.
            }
        }
        
        function handleShowAnswer() {
            // ì´ ë²„íŠ¼ì€ ì´ì œ ì˜¤ë‹µ í›„ ì¬ì‹œë„ ì˜µì…˜ì´ í™œì„±í™”ë˜ì–´ ì‚¬ìš©ë˜ì§€ ì•Šì§€ë§Œ, í˜¹ì‹œ ëª¨ë¥¼ ë¡œì§ì„ ìœ„í•´ ìœ ì§€
            feedbackArea.innerHTML = `<p class="correct-sentence-display">ì •ë‹µ: <strong>${currentSentenceWords.join(' ')}</strong></p>`;
            showAnswerBtn.classList.add('hidden'); 
            undoBtn.classList.add('hidden');
            undoBtn.disabled = true;
            nextQuestionBtn.classList.remove('hidden');
        }

        function handleNext() {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentSessionSentences.length) {
                renderQuestion();
            } else {
                alert('í•™ìŠµ ì„¸íŠ¸ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!');
                showScreen('main');
            }
        }
        function renderReport(setIndex) {
            const set = sets[setIndex]; reportTitle.textContent = `"${set.title}" ë¦¬í¬íŠ¸`; reportList.innerHTML = '';
            const reportData = set.report || {};
            
            const sortedReport = Object.keys(reportData)
                .map(sentence => ({
                    sentence: sentence,
                    count: reportData[sentence]
                }))
                .filter(item => item.count > 0)
                .sort((a, b) => b.count - a.count);

            if (sortedReport.length === 0) { 
                reportList.innerHTML = '<li>í‹€ë¦° ë¬¸ì¥ì´ ì—†ìŠµë‹ˆë‹¤. í›Œë¥­í•´ìš”!</li>'; 
            } else { 
                sortedReport.forEach(item => { 
                    const li = document.createElement('li'); 
                    li.innerHTML = `<p class="report-sentence">${item.sentence}</p><p class="report-count">${item.count}ë²ˆ í‹€ë¦¼</p>`; 
                    reportList.appendChild(li); 
                }); 
            }
            showScreen('report');
        }

        // --- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ---
        addSetBtn.addEventListener('click', () => { setTitleInput.value = ''; sentenceInputsContainer.innerHTML = ''; addSentenceInputField(); addSentenceInputField(); showScreen('create'); });
        backToMainBtns.forEach(btn => btn.addEventListener('click', () => { renderMainScreen(); showScreen('main'); }));
        addSentenceFieldBtn.addEventListener('click', () => addSentenceInputField());
        saveSetBtn.addEventListener('click', handleSaveSet);
        
        setList.addEventListener('click', (e) => {
            const targetButton = e.target.closest('.btn');
            if (!targetButton) return;
            const li = targetButton.closest('.set-item');
            if (!li) return;
            const index = parseInt(li.dataset.index);

            if (targetButton.classList.contains('start-btn')) {
                const set = sets[index];
                if (!set.sentences || set.sentences.length === 0) {
                    alert('í•™ìŠµí•  ë¬¸ì¥ì´ ì—†ìŠµë‹ˆë‹¤.');
                    return;
                }
                const maxCount = set.sentences.length;
                
                // ëª¨ë“œ ì„ íƒ ë¡œì§
                const modeInput = prompt("í•™ìŠµ ëª¨ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”. (1: ìˆœì„œëŒ€ë¡œ, 2: ëœë¤)", "2");
                if (modeInput === null) return;
                
                let mode;
                if (modeInput === '1') {
                    mode = 'original';
                } else if (modeInput === '2') {
                    mode = 'random';
                } else {
                    alert('ì˜ëª»ëœ ëª¨ë“œ ì„ íƒì…ë‹ˆë‹¤. ëœë¤ ëª¨ë“œë¡œ ì‹œì‘í•©ë‹ˆë‹¤.');
                    mode = 'random';
                }

                const userInput = prompt(`í•™ìŠµí•  ë¬¸ì¥ ê°œìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”. (ìµœëŒ€ ${maxCount}ê°œ)`, maxCount);
                
                if (userInput === null) return;

                const numQuestions = parseInt(userInput);
                
                if (isNaN(numQuestions) || numQuestions <= 0) {
                    alert('ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
                
                startLearning(index, Math.min(numQuestions, maxCount), mode); 
            
            } else if (targetButton.classList.contains('wrong-answer-btn')) {
                startWrongAnswerLearning(index);
            
            } else if (targetButton.classList.contains('report-btn')) {
                renderReport(index);
            } else if (targetButton.classList.contains('delete-btn')) {
                if (confirm(`'${sets[index].title}' ì„¸íŠ¸ë¥¼ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                    sets.splice(index, 1);
                    saveSets();
                    renderMainScreen();
                }
            }
        });

        checkBtn.addEventListener('click', handleCheck);
        undoBtn.addEventListener('click', handleUndo); 
        showAnswerBtn.addEventListener('click', handleShowAnswer);
        nextQuestionBtn.addEventListener('click', handleNext);

        loadSets();
        renderMainScreen();
        showScreen('main');
    });
    </script>
</body>
</html>